<?xml version="1.0" encoding="UTF-8"?><xmi:XMI xmi:version="2.1" xmlns:xmi="http://www.omg.org/spec/XMI/2.1" xmlns:exmi="http://www.omg.org/XMI" xmlns:uml="http://schema.omg.org/spec/UML/2.4" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:euml="http://www.eclipse.org/uml2/5.0.0/UML"><uml:Model xmi:type="uml:Model" name="Bank-ATM"><packagedElement xmi:type="uml:StateMachine" xmi:id="//consortium" name="consortium"><region xmi:type="uml:Region" xmi:id="//consortium/@region.0"><subvertex xmi:type="uml:State" xmi:id="//consortium/@region.0/WaitVerify" name="WaitVerify"/><subvertex xmi:type="uml:State" xmi:id="//consortium/@region.0/verifyAccount" name="verifyAccount"><region xmi:type="uml:Region" xmi:id="//consortium/@region.0/verifyAccount/@region.0"><subvertex xmi:type="uml:Pseudostate" xmi:id="//consortium/@region.0/verifyAccount/@region.0/@subvertex.0" kind="entryPoint"/><subvertex xmi:type="uml:State" xmi:id="//consortium/@region.0/verifyAccount/@region.0/@subvertex.1"><doActivity xmi:type="uml:Interaction" name="check := bank.verifyCardWithBank"/></subvertex><subvertex xmi:type="uml:State" xmi:id="//consortium/@region.0/verifyAccount/@region.0/@subvertex.2"><doActivity xmi:type="uml:Interaction" name=""/></subvertex><subvertex xmi:type="uml:Pseudostate" xmi:id="//consortium/@region.0/verifyAccount/@region.0/1" name="1" kind="exitPoint"/><subvertex xmi:type="uml:State" xmi:id="//consortium/@region.0/verifyAccount/@region.0/@subvertex.4"><doActivity xmi:type="uml:Interaction" name=""/></subvertex><subvertex xmi:type="uml:Pseudostate" xmi:id="//consortium/@region.0/verifyAccount/@region.0/2" name="2" kind="exitPoint"/><transition xmi:type="uml:Transition" xmi:id="//consortium/@region.0/verifyAccount/@region.0/@transition.0" source="//consortium/@region.0/verifyAccount/@region.0/@subvertex.2" target="//consortium/@region.0/verifyAccount/@region.0/1"/><transition xmi:type="uml:Transition" xmi:id="//consortium/@region.0/verifyAccount/@region.0/@transition.1" source="//consortium/@region.0/verifyAccount/@region.0/@subvertex.1" target="//consortium/@region.0/verifyAccount/@region.0/@subvertex.2" guard="//consortium/@region.0/verifyAccount/@region.0/@transition.1/@ownedRule.0"><ownedRule xmi:type="uml:Constraint" xmi:id="//consortium/@region.0/verifyAccount/@region.0/@transition.1/@ownedRule.0"><specification xmi:type="uml:OpaqueExpression"><body xmlns:xmi="http://www.omg.org/XMI" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML">check = badBankPassword</body></specification></ownedRule></transition><transition xmi:type="uml:Transition" xmi:id="//consortium/@region.0/verifyAccount/@region.0/@transition.2" source="//consortium/@region.0/verifyAccount/@region.0/@subvertex.4" target="//consortium/@region.0/verifyAccount/@region.0/2"/><transition xmi:type="uml:Transition" xmi:id="//consortium/@region.0/verifyAccount/@region.0/@transition.3" source="//consortium/@region.0/verifyAccount/@region.0/@subvertex.1" target="//consortium/@region.0/verifyAccount/@region.0/@subvertex.4" guard="//consortium/@region.0/verifyAccount/@region.0/@transition.3/@ownedRule.0"><ownedRule xmi:type="uml:Constraint" xmi:id="//consortium/@region.0/verifyAccount/@region.0/@transition.3/@ownedRule.0"><specification xmi:type="uml:OpaqueExpression"><body xmlns:xmi="http://www.omg.org/XMI" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML">check = badBankAccount</body></specification></ownedRule></transition><transition xmi:type="uml:Transition" xmi:id="//consortium/@region.0/verifyAccount/@region.0/@transition.4" source="//consortium/@region.0/verifyAccount/@region.0/@subvertex.0" target="//consortium/@region.0/verifyAccount/@region.0/@subvertex.1"/></region></subvertex><subvertex xmi:type="uml:Pseudostate" xmi:id="//consortium/@region.0/@subvertex.2"/><transition xmi:type="uml:Transition" xmi:id="//consortium/@region.0/@transition.0" source="//consortium/@region.0/WaitVerify" target="//consortium/@region.0/verifyAccount/@region.0/@subvertex.0"><trigger xmi:type="uml:Trigger" name="verifyAccount"/></transition><transition xmi:type="uml:Transition" xmi:id="//consortium/@region.0/@transition.1" source="//consortium/@region.0/verifyAccount/@region.0/1" target="//consortium/@region.0/WaitVerify"><effect xmi:type="uml:Interaction" name="return badPassword"/></transition><transition xmi:type="uml:Transition" xmi:id="//consortium/@region.0/@transition.2" source="//consortium/@region.0/verifyAccount/@region.0/2" target="//consortium/@region.0/WaitVerify"><effect xmi:type="uml:Interaction" name="return badAccount"/></transition><transition xmi:type="uml:Transition" xmi:id="//consortium/@region.0/@transition.3" source="//consortium/@region.0/@subvertex.2" target="//consortium/@region.0/WaitVerify"/></region></packagedElement><packagedElement xmi:type="uml:StateMachine" xmi:id="//bank" name="bank"><region xmi:type="uml:Region" xmi:id="//bank/@region.0"><subvertex xmi:type="uml:State" xmi:id="//bank/@region.0/WaitBankVerify" name="WaitBankVerify"/><subvertex xmi:type="uml:State" xmi:id="//bank/@region.0/verifyCardWithBank" name="verifyCardWithBank"><region xmi:type="uml:Region" xmi:id="//bank/@region.0/verifyCardWithBank/@region.0"><subvertex xmi:type="uml:Pseudostate" xmi:id="//bank/@region.0/verifyCardWithBank/@region.0/@subvertex.0" kind="entryPoint"/><subvertex xmi:type="uml:State" xmi:id="//bank/@region.0/verifyCardWithBank/@region.0/@subvertex.1"><doActivity xmi:type="uml:Interaction" name=""/></subvertex><subvertex xmi:type="uml:Pseudostate" xmi:id="//bank/@region.0/verifyCardWithBank/@region.0/1" name="1" kind="exitPoint"/><transition xmi:type="uml:Transition" xmi:id="//bank/@region.0/verifyCardWithBank/@region.0/@transition.0" source="//bank/@region.0/verifyCardWithBank/@region.0/@subvertex.1" target="//bank/@region.0/verifyCardWithBank/@region.0/1"/><transition xmi:type="uml:Transition" xmi:id="//bank/@region.0/verifyCardWithBank/@region.0/@transition.1" source="//bank/@region.0/verifyCardWithBank/@region.0/@subvertex.0" target="//bank/@region.0/verifyCardWithBank/@region.0/@subvertex.1"/></region></subvertex><subvertex xmi:type="uml:Pseudostate" xmi:id="//bank/@region.0/@subvertex.2"/><transition xmi:type="uml:Transition" xmi:id="//bank/@region.0/@transition.0" source="//bank/@region.0/WaitBankVerify" target="//bank/@region.0/verifyCardWithBank/@region.0/@subvertex.0"><trigger xmi:type="uml:Trigger" name="verifyCardWithBank"/></transition><transition xmi:type="uml:Transition" xmi:id="//bank/@region.0/@transition.1" source="//bank/@region.0/verifyCardWithBank/@region.0/1" target="//bank/@region.0/WaitBankVerify"><effect xmi:type="uml:Interaction" name="return badBankPassword"/></transition><transition xmi:type="uml:Transition" xmi:id="//bank/@region.0/@transition.2" source="//bank/@region.0/verifyCardWithBank/@region.0/1" target="//bank/@region.0/WaitBankVerify"><effect xmi:type="uml:Interaction" name="return badBankAccount"/></transition><transition xmi:type="uml:Transition" xmi:id="//bank/@region.0/@transition.3" source="//bank/@region.0/@subvertex.2" target="//bank/@region.0/WaitBankVerify"/></region></packagedElement><packagedElement xmi:type="uml:StateMachine" xmi:id="//atm" name="atm"><region xmi:type="uml:Region" xmi:id="//atm/@region.0"><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/WaitCard" name="WaitCard"/><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/WaitPassword" name="WaitPassword"/><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/WaitTakeCard" name="WaitTakeCard"/><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/enterPassword" name="enterPassword"><region xmi:type="uml:Region" xmi:id="//atm/@region.0/enterPassword/@region.0"><subvertex xmi:type="uml:Pseudostate" xmi:id="//atm/@region.0/enterPassword/@region.0/@subvertex.0" kind="entryPoint"/><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/enterPassword/@region.0/@subvertex.1"><doActivity xmi:type="uml:Interaction" name="check := consortium.verifyAccount"/></subvertex><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/enterPassword/@region.0/@subvertex.2"><doActivity xmi:type="uml:Interaction" name="user.requestPassword;&#10;"/></subvertex><subvertex xmi:type="uml:Pseudostate" xmi:id="//atm/@region.0/enterPassword/@region.0/1" name="1" kind="exitPoint"/><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/enterPassword/@region.0/@subvertex.4"><doActivity xmi:type="uml:Interaction" name="user.badAccountMessage;&#10;user.printReceipt;&#10;user.ejectCard;&#10;user.requestTakeCard;&#10;"/></subvertex><subvertex xmi:type="uml:Pseudostate" xmi:id="//atm/@region.0/enterPassword/@region.0/2" name="2" kind="exitPoint"/><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/enterPassword/@region.0/@transition.0" source="//atm/@region.0/enterPassword/@region.0/@subvertex.2" target="//atm/@region.0/enterPassword/@region.0/1"/><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/enterPassword/@region.0/@transition.1" source="//atm/@region.0/enterPassword/@region.0/@subvertex.1" target="//atm/@region.0/enterPassword/@region.0/@subvertex.2" guard="//atm/@region.0/enterPassword/@region.0/@transition.1/@ownedRule.0"><ownedRule xmi:type="uml:Constraint" xmi:id="//atm/@region.0/enterPassword/@region.0/@transition.1/@ownedRule.0"><specification xmi:type="uml:OpaqueExpression"><body xmlns:xmi="http://www.omg.org/XMI" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML">check = badPassword</body></specification></ownedRule></transition><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/enterPassword/@region.0/@transition.2" source="//atm/@region.0/enterPassword/@region.0/@subvertex.4" target="//atm/@region.0/enterPassword/@region.0/2"/><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/enterPassword/@region.0/@transition.3" source="//atm/@region.0/enterPassword/@region.0/@subvertex.1" target="//atm/@region.0/enterPassword/@region.0/@subvertex.4" guard="//atm/@region.0/enterPassword/@region.0/@transition.3/@ownedRule.0"><ownedRule xmi:type="uml:Constraint" xmi:id="//atm/@region.0/enterPassword/@region.0/@transition.3/@ownedRule.0"><specification xmi:type="uml:OpaqueExpression"><body xmlns:xmi="http://www.omg.org/XMI" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML">check = badAccount</body></specification></ownedRule></transition><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/enterPassword/@region.0/@transition.4" source="//atm/@region.0/enterPassword/@region.0/@subvertex.0" target="//atm/@region.0/enterPassword/@region.0/@subvertex.1"/></region></subvertex><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/insertCard" name="insertCard"><region xmi:type="uml:Region" xmi:id="//atm/@region.0/insertCard/@region.0"><subvertex xmi:type="uml:Pseudostate" xmi:id="//atm/@region.0/insertCard/@region.0/@subvertex.0" kind="entryPoint"/><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/insertCard/@region.0/@subvertex.1"><doActivity xmi:type="uml:Interaction" name="user.requestPassword;&#10;"/></subvertex><subvertex xmi:type="uml:Pseudostate" xmi:id="//atm/@region.0/insertCard/@region.0/1" name="1" kind="exitPoint"/><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/insertCard/@region.0/@transition.0" source="//atm/@region.0/insertCard/@region.0/@subvertex.1" target="//atm/@region.0/insertCard/@region.0/1"/><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/insertCard/@region.0/@transition.1" source="//atm/@region.0/insertCard/@region.0/@subvertex.0" target="//atm/@region.0/insertCard/@region.0/@subvertex.1"/></region></subvertex><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/cancel" name="cancel"><region xmi:type="uml:Region" xmi:id="//atm/@region.0/cancel/@region.0"><subvertex xmi:type="uml:Pseudostate" xmi:id="//atm/@region.0/cancel/@region.0/@subvertex.0" kind="entryPoint"/><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/cancel/@region.0/@subvertex.1"><doActivity xmi:type="uml:Interaction" name="user.canceledMessage;&#10;user.ejectCard;&#10;user.requestTakeCard;&#10;"/></subvertex><subvertex xmi:type="uml:Pseudostate" xmi:id="//atm/@region.0/cancel/@region.0/1" name="1" kind="exitPoint"/><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/cancel/@region.0/@transition.0" source="//atm/@region.0/cancel/@region.0/@subvertex.1" target="//atm/@region.0/cancel/@region.0/1"/><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/cancel/@region.0/@transition.1" source="//atm/@region.0/cancel/@region.0/@subvertex.0" target="//atm/@region.0/cancel/@region.0/@subvertex.1"/></region></subvertex><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/takeCard" name="takeCard"><region xmi:type="uml:Region" xmi:id="//atm/@region.0/takeCard/@region.0"><subvertex xmi:type="uml:Pseudostate" xmi:id="//atm/@region.0/takeCard/@region.0/@subvertex.0" kind="entryPoint"/><subvertex xmi:type="uml:State" xmi:id="//atm/@region.0/takeCard/@region.0/@subvertex.1"><doActivity xmi:type="uml:Interaction" name="user.displayMainScreen;&#10;"/></subvertex><subvertex xmi:type="uml:Pseudostate" xmi:id="//atm/@region.0/takeCard/@region.0/1" name="1" kind="exitPoint"/><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/takeCard/@region.0/@transition.0" source="//atm/@region.0/takeCard/@region.0/@subvertex.1" target="//atm/@region.0/takeCard/@region.0/1"/><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/takeCard/@region.0/@transition.1" source="//atm/@region.0/takeCard/@region.0/@subvertex.0" target="//atm/@region.0/takeCard/@region.0/@subvertex.1"/></region></subvertex><subvertex xmi:type="uml:Pseudostate" xmi:id="//atm/@region.0/@subvertex.7"/><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/@transition.0" source="//atm/@region.0/WaitPassword" target="//atm/@region.0/cancel/@region.0/@subvertex.0"><trigger xmi:type="uml:Trigger" name="cancel"/></transition><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/@transition.1" source="//atm/@region.0/WaitCard" target="//atm/@region.0/insertCard/@region.0/@subvertex.0"><trigger xmi:type="uml:Trigger" name="insertCard"/></transition><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/@transition.2" source="//atm/@region.0/WaitTakeCard" target="//atm/@region.0/takeCard/@region.0/@subvertex.0"><trigger xmi:type="uml:Trigger" name="takeCard"/></transition><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/@transition.3" source="//atm/@region.0/WaitCard" target="//atm/@region.0/enterPassword/@region.0/@subvertex.0"><trigger xmi:type="uml:Trigger" name="enterPassword"/></transition><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/@transition.4" source="//atm/@region.0/insertCard/@region.0/1" target="//atm/@region.0/WaitPassword"><effect xmi:type="uml:Interaction" name="return Void"/></transition><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/@transition.5" source="//atm/@region.0/takeCard/@region.0/1" target="//atm/@region.0/WaitCard"><effect xmi:type="uml:Interaction" name="return Void"/></transition><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/@transition.6" source="//atm/@region.0/enterPassword/@region.0/1" target="//atm/@region.0/WaitPassword"><effect xmi:type="uml:Interaction" name="return Void"/></transition><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/@transition.7" source="//atm/@region.0/enterPassword/@region.0/2" target="//atm/@region.0/WaitTakeCard"><effect xmi:type="uml:Interaction" name="return Void"/></transition><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/@transition.8" source="//atm/@region.0/cancel/@region.0/1" target="//atm/@region.0/WaitTakeCard"><effect xmi:type="uml:Interaction" name="return Void"/></transition><transition xmi:type="uml:Transition" xmi:id="//atm/@region.0/@transition.9" source="//atm/@region.0/@subvertex.7" target="//atm/@region.0/WaitCard"/></region></packagedElement></uml:Model></xmi:XMI>